# **elasticsearch 란?**

**ElasticSearch는 Apache 프로젝트인 Lucene를 활용해서 만들어진, 대용량 분석, multitenant-capable한 구조를 가진, schema free한 json Document 기반의 검색 엔진이다. **

**ElasticSearch는 내부적으로 루씬을 사용해 인덱스를 매기고 검색을 하고 루씬을 쉽게 사용하기 위해 Java API나 RESTful API를 제공하는 등의 편의 사항을 제공하기 위해 탄생했다.**

### Adventages

* 설치가 쉽다. 확장이 용이하다.

- 분산 시스템 지원실시간으로 document의 각 필드를 검색 가능하게 인덱싱하고 분산하여 저장높은 가용성을 보장한다
- 항상 일정한 데이터 복사본의 개수를 유지하여 높은 가용성과 안정성을 보장 (shards, replica)사용하기가 쉽다
- Json Document의 Schema Free한 구조, RESTFull API 지원Lucene의 풍부한 기능을 그대로 사용할 수 있다
- 자동완성 기능, 다국어 검색 지원, 철자수정 기능, 미리보기 기능 등실시간 분석이 가능하다
- 저장된 데이터를 검색에 사용하기 위해 별도의 재시작/갱신이 불필요하여 색인 작업이 완료됨과 동시에 바로 검색 가능

#### Basic Concept

* **NRT(Near Realtime)**

  **Elasticsearch는 NRT 검색 플랫폼. 즉 문서를 색인화하는 시점부터 문서가 검색 가능해지는 시점까지 약간의 대기 시간(대개 1초)클러스터클러스터는 하나 이상의 노드(서버)가 모인 것이며, 이를 통해 전체 데이터를 저장하고 모든 노드를 포괄하는 통합 색인화 및 검색 기능을 제공**

* **노드**

  **클러스터에 포함된 단일 서버로서 데이터를 저장하고 클러스터의 색인화 및 검색 기능에 참여한다.**

* **인덱스**

  **색인은 다소 비슷한 특성을 가진 문서의 모음. 색인은 이름(모두 소문자여야 함)으로 식별되며, 이 이름은 색인에 포함된  문서에 대한 색인화, 검색, 업데이트, 삭제 작업에서 해당 색인을 가리키는 데 쓰인다.**

* **타입**

  **타입이란 색인을 논리적으로 분류/구분한 것이며 그 의미 체계는 전적으로 사용자가 결정합니다. 일반적으로 여러 공통된 필드를 갖는 문서에 대해 유형이 정의됩니다.**

* **도큐먼트**

  **문서는 색인화할 수 있는 기본 정보 단위입니다. 이 문서는 JSON(JavaScript Object Notation) 형식으로 되어있다.하나의 색인/유형에 원하는 개수의 문서를 저장할 수 있습니다. 문서가 물리적으로는 어떤 색인 내에 있더라도 문서는 색인화되어 색인에 포함된 어떤 유형으로 지정되어야한다.**

* **샤드**

  **색인은 방대한 양의 데이터를 저장할 수 있는데, 이 데이터가 단일 노드의 하드웨어 한도를 초과할 수도  있다.Elasticsearch는 이러한 문제를 해결하고자 색인을 이른바 샤드(shard)라는 조각으로 분할하는 기능을 제공한다. 2가지 특징콘텐츠 볼륨의 수평 분할/확장이 가능하다.작업을 (어쩌면 여러 노드에 위치한) 여러 샤드에 분산 배치하고 병렬화함으로써 성능/처리량을 늘릴 수 있다.**

* **리플리카**

  **언제든 오류가 일어날 가능성이 있는 네트워크/클라우드 환경에서는 샤드/노드가 오프라인 상태가 되거나 사라지게 될 경우에 대비하여 페일오버 메커니즘을 마련하는 것이 매우 유익하고 바람직합니다. 이러한 취지에서 색인의 샤드에 대해 하나 이상의 복사본을 생성할 수 있는데, 이를 리플리카 샤드(replica shard), 줄여서 리플리카라고 한다.특징모든 리플리카에서 병렬 방식으로 검색을 실행할 수 있으므로 검색 볼륨/처리량을 확장할 수 있음.**

